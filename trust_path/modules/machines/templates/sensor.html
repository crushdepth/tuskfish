<?php declare(strict_types=1); ?>

<!-- Display a single sensor object -->
<?php if ($sensor): ?>

<!-- Title and meta information -->
<div>
  <h2 class="title"><?php echo $sensor->icon . ' ' . $sensor->escapeForXss('title'); ?></h2>
  <?php if ($sensorInfo): ?>
  <p class="content-info">
    <span class="small">
    <?php if (TfSession::isAdmin()): ?>
    <a href="<?php echo TFISH_ADMIN_URL . 'sensor.php?op=edit&amp;id=' . $sensor->escapeForXss('id'); ?>"><i title="<?php echo TFISH_SENSOR_EDIT; ?>" class="fas fa-edit"></i></a>
    <?php endif; ?>
    <?php echo $sensorInfo; ?>
    </span>
  </p>
  <?php endif; ?>
</div>

<!-- Description -->
<div class="description">
  <?php if ($sensor->description) echo $sensor->escapeForXss('description'); ?>
</div>

<!-- Display parent work -->
<?php if (!empty($parent)): ?>
<div>
  <h3><?php echo TFISH_RELATED; ?></h3>
  <h4 class="parent"><a href="<?php echo $parent->getUrl($targetFileName); ?>"><?php echo $parent->icon; ?> <?php echo $parent->escapeForXss('title'); ?></a></h4>
  <?php if ($parent->image): ?>
  <div class="float-left">
    <figure class="figure-left">
    <a href="<?php echo $parent->getUrl($targetFileName); ?>">
    <img class="image img-fluid" src="<?php echo $parent->getCachedImage(150); ?>" 
    <?php if ($parent->caption): ?>
        title="<?php echo $parent->escapeForXss('caption'); ?>" alt="<?php echo $parent->escapeForXss('caption'); ?>"
    <?php else: ?>
        alt=""
    <?php endif; ?>
    /></a>
    </figure>
  </div>
  <?php endif; ?>
  <div class="teaser">
    <?php echo $parent->escapeForXss('teaser'); ?>
  </div>
</div>
<?php endif; ?>
<?php endif; ?>